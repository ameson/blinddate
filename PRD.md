# 产品需求文档（PRD）

## 项目概述

本项目是一个漫画风格的婚恋评价应用，旨在帮助男性用户在婚恋过程中进行自我评估。通过输入个人信息、经济状况、家庭情况等，系统将生成一个漫画风格的结果页面，并提供等级评价，鼓励用户分享。

## 目标用户

- 年轻男性用户
- 对自我评估和婚恋指导感兴趣的用户

## 功能模块

1. **基本信息收集**
   - 用户输入个人信息，如年龄、学历、职业等。

2. **经济状况评估**
   - 收入水平、资产情况、父母经济状况等。

3. **家庭情况**
   - 家庭观念、父母的婚姻状况等。

4. **个人发展潜力**
   - 学历背景、职业发展、工作经验等。

5. **婚恋态度**
   - 对婚姻的看法、恋爱经历等。

6. **评分系统**
   - 根据不同指标进行评分，使用青铜、白银、黄金、王者等等级进行评价。

7. **结果展示**
   - 漫画风格的结果页面，使用漫画头像和等级评价。

8. **分享功能**
   - 鼓励用户分享结果到社交媒体。

## 用户体验

- 漫画风格的设计，吸引年轻用户
- 简单直观的用户界面
- 动态评分和即时反馈

## 技术栈

- 前端：Vue.js, Vant UI
- 后端：Node.js（可选，根据需求）

## 设计风格规范

### 整体风格
- 扁平轻质感插画风格
- 简约现代的界面设计
- 清新活泼的视觉效果

### 设计特点
1. **扁平化设计元素**
   - 使用简单的几何形状
   - 删减细节，保持高概括性
   - 去除三维化特征
   - 突出几何特征的外轮廓表现

2. **配色方案**
   - 主色调：#3498db（科技蓝）
   - 辅助色：#2c3e50（深蓝灰）
   - 点缀色：#e74c3c（点缀红）
   - 背景色：#f8f9fa（浅灰白色）
   - 中性色：#34495e（深灰蓝）

3. **字体规范**
   - 中文字体：PingFang SC, Microsoft YaHei
   - 标题大小：2rem
   - 正文大小：1rem
   - 按钮文字：1.2rem

4. **视觉元素**
   - 轻质感装饰元素
   - 圆角设计（按钮、卡片等）
   - 适度留白
   - 柔和阴影效果

5. **交互设计**
   - 按钮点击效果
   - 平滑的动画过渡
   - 响应式布局适配

### 设计目标
- 营造轻松愉悦的测评氛围
- 提供清晰的视觉层级
- 确保良好的可读性和易用性
- 突出重要信息和操作按钮

## 设计原则

- 移动优先设计
- 轻松有趣的用户体验
- 直观的交互设计
- 清晰的界面和信息
- 使用滑块、卡片选择等方式代替传统的输入框。

## 技术实现细节

### 1. 表单自动滚动功能
为提供更流畅的用户体验，我们在所有表单页面（BasicInfo.vue、Economic.vue、Family.vue）中实现了自动滚动功能：

#### 核心功能实现
1. **DOM引用管理**
   - 使用Vue 3的`ref`创建DOM元素引用
   - 每个表单部分都有独立的ref引用
   - 包括最后的"下一步"按钮引用

2. **平滑滚动功能**
   ```javascript
   const smoothScroll = async (targetRef) => {
     await nextTick()
     const element = targetRef.value
     if (element) {
       const offset = element.getBoundingClientRect().top + window.pageYOffset - 80
       window.scrollTo({
         top: offset,
         behavior: 'smooth'
       })
     }
   }
   ```

3. **选择处理与滚动触发**
   - 用户选择选项后自动滚动到下一部分
   - 最后一个选项完成后滚动到"下一步"按钮
   - 使用`nextTick`确保DOM更新后再滚动

4. **样式优化**
   ```css
   .section-block {
     scroll-margin-top: 80px;
   }
   ```
   - 添加顶部边距防止内容被导航栏遮挡
   - 确保滚动后内容完全可见

5. **Vue组合式API集成**
   ```javascript
   import { ref, computed, onMounted, nextTick, reactive } from 'vue'
   ```
   - 使用Vue 3组合式API
   - 响应式状态管理
   - 生命周期钩子集成

#### 实现效果
- 用户选择选项后自动滚动到下一部分
- 平滑的滚动动画
- 精确的滚动定位（考虑导航栏高度）
- 响应式的用户界面
- 统一的用户体验

## 评分规则

### 总体评分机制
- 总分由五个维度构成：基本信息、经济状况、家庭情况、个人发展潜力、婚恋态度
- 每个维度满分20分，总分100分
- 最终得分 = (基础分 + 经济分 + 家庭分 + 潜力分 + 态度分)
- 等级划分：
  - 90-100分：王者
  - 80-89分：钻石
  - 70-79分：黄金
  - 60-69分：白银
  - 60分以下：青铜

### 各维度评分细则

#### 1. 基本信息评分（20分）
- 年龄（4分）
  - 25-35岁：4分
  - 22-24岁或36-40岁：3分
  - 其他：1分
- 学历（4分）
  - 硕士及以上：4分
  - 本科：3分
  - 大专：2分
  - 其他：1分
- 职业（4分）
  - 公务员/事业单位：4分
  - 国企/外企：3分
  - 私企正式员工：2分
  - 其他：1分
- 身高体重比例（4分）
  - 标准体型（4分）：
    * BMI指数在18.5-24.9之间
    * 计算公式：BMI = 体重(kg) / (身高(m))²
    * 对应体重范围参考：
      - 170cm：54-72kg
      - 175cm：57-76kg
      - 180cm：60-81kg
      - 185cm：63-85kg
  - 轻微偏离（2分）：
    * BMI指数在17.5-18.4或25.0-27.9之间
    * 对应体重范围参考：
      - 170cm：51-53kg或73-81kg
      - 175cm：54-56kg或77-85kg
      - 180cm：57-59kg或82-90kg
      - 185cm：60-62kg或86-95kg
  - 严重偏离（1分）：
    * BMI指数<17.5或≥28.0
    * 不在上述范围内的其他情况
- 生活地点（4分）
  - 城市等级（2分）：
    * 一线城市：2分
      - 北上广深
    * 新一线城市：1.5分
      - 成都、杭州、武汉、西安等15个城市
    * 二线城市：1分
      - 省会城市及经济发达城市
    * 三线及以下：0.5分
  
  - 区域位置（2分）：
    * 市中心区域：2分
      - 核心商圈
      - 教育医疗资源丰富
      - 交通便利
    * 城市副中心：1.5分
      - 规划成熟
      - 配套设施完善
    * 远郊区域：1分
      - 基础设施完备
      - 通勤时间较长
    * 其他：0.5分

  注：
  1. 城市等级参考《2023年城市商业魅力排行榜》
  2. 区域位置主要考虑生活便利度和发展潜力
  3. 如工作地和居住地不同，取较高分的地点

#### 2. 经济状况评分（20分）
- 月收入（6分）
  - 20k以上：6分
  - 15k-20k：5分
  - 10k-15k：4分
  - 5k-10k：2分
  - 5k以下：1分
- 资产情况（8分）
  - 房产情况（5分）：
    * 全款房：5分
    * 房贷已还超50%：4分
    * 房贷已还20%-50%：3分
    * 房贷已还少于20%：2分
    * 无房产：0分
    注：
    1. 以第一套住房为准
    2. 父母全款赠与的房产视为全款房
    3. 多套房产可额外加1分（上限5分）
  
  - 车辆情况（3分）：
    * 全款车且价值>30万：3分
    * 全款车且价值15-30万：2.5分
    * 全款车且价值<15万：2分
    * 车贷已还超50%：2分
    * 车贷已还20%-50%：1.5分
    * 车贷已还少于20%：1分
    * 无车：0分
    注：
    1. 以主力代步车为准
    2. 父母全款赠与的车辆视为全款车
    3. 多辆车可额外加0.5分（上限3分）

  加分项（最多1分）：
  - 房产位于一线城市市区：+1分
  - 房产位于二线城市市区：+0.5分
  - 车位产权：+0.5分

  减分项（最多-2分）：
  - 月供总额超过月收入40%：-1分
  - 有其他贷款（如消费贷）：-1分

- 存款情况（6分）
  - 100万以上：6分
  - 50-100万：5分
  - 20-50万：4分
  - 10-20万：3分
  - 5-10万：2分
  - 5万以下：1分
  注：存款包括现金、银行存款、理财产品、股票等可变现资产

#### 3. 家庭情况评分（20分）
- 父母婚姻状况（7分）
  - 父母关系和睦：7分
  - 父母关系一般：5分
  - 父母离异：3分
- 家庭观念（7分）
  - 重视家庭：7分
  - 一般：5分
  - 较弱：3分
- 居住安排（6分）
  - 独立居住：6分
  - 与父母同住：4分
  - 其他：2分

#### 4. 个人发展潜力评分（20分）
- 职业发展前景（8分）
  - 发展空间大：8分
  - 发展空间一般：5分
  - 发展空间有限：2分
- 技能储备（6分）
  - 多项专业技能：6分
  - 1-2项专业技能：4分
  - 无专业技能：2分
- 工作经验（6分）
  - 5年以上：6分
  - 3-5年：4分
  - 1-3年：2分
  - 1年以下：1分

#### 5. 婚恋态度评分（20分）
- 婚恋观（6分）
  - 认真负责：6分
  - 较为认真：4分
  - 态度随意：2分
- 恋爱经历（4分）
  - 有1-2段认真恋爱：4分
  - 有多段恋爱经历：3分
  - 无恋爱经历：2分
- 结婚意愿（5分）
  - 近期有计划：5分
  - 有考虑但无计划：3分
  - 暂无考虑：1分
- 对孩子的态度（5分）
  - 生育意愿（2分）：
    * 希望且有具体规划：2分
    * 希望但暂无规划：1.5分
    * 持观望态度：1分
    * 不想要孩子：0分
  
  - 教育理念（2分）：
    * 有成熟的教育理念：2分
      - 注重孩子全面发展
      - 理解教育投入的重要性
      - 愿意投入时间陪伴
    * 有基本教育认知：1.5分
      - 认同教育重要性
      - 愿意提供基本教育资源
    * 态度模糊：1分
      - 未深入思考教育问题
      - 对教育投入认识不足
    * 消极态度：0分
      - 不关心教育问题
      - 不愿投入教育资源
  
  - 经济准备（1分）：
    * 有充足准备和规划：1分
      - 有教育基金计划
      - 有相关保险规划
    * 有基本准备意识：0.5分
    * 未作准备：0分

注：
1. 如果明确表示不婚，婚恋态度整体得分不超过10分
2. 如果明确表示不育，对孩子态度部分最高得2分

### 加分项
1. 特殊技能加分（最多5分）
   - 擅长烹饪：+2分
   - 会乐器：+2分
   - 有特殊才艺：+1分

2. 家庭背景加分（最多5分）
   - 家庭和睦：+2分
   - 家庭经济条件好：+2分
   - 独生子女：+1分

### 减分项
1. 不良习惯（最多-5分）
   - 吸烟：-2分
   - 酗酒：-2分
   - 沉迷游戏：-1分

2. 性格问题（最多-5分）
   - 脾气暴躁：-2分
   - 懒散拖延：-2分
   - 其他负面特征：-1分

## 里程碑

1. 完成用户界面设计
2. 实现基本信息和经济状况模块
3. 实现评分系统和结果展示
4. 添加分享功能
5. 进行用户测试和反馈收集

## 风险与挑战

- 确保评分系统的准确性和公平性
- 设计漫画风格的界面需要创意和美术支持
- 分享功能的技术实现和社交媒体集成

## 后续计划

- 根据用户反馈进行功能优化
- 添加更多个性化选项和定制化功能
- 扩展至其他人群和市场
